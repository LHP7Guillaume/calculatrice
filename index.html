<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Calculatrice</title>

</head>

<body>




    <main class="container fond pt2 lg">
        <h4 class="text-center textecolor">Casio Fx-92x</h4>
        <div class="row lg">
            <div class="col-12 ">
                <span id="affichage" class="col-12 btn btn-secondary btn-lg btn-block ">
                    <input class="col-12 text-end " id="firstNumber">
                    <input class="col-12 text-end" id="operation">
                    <input class="col-12 text-end" id="secondNumber">
                    <input class="col-12 text-end" id="resultat">

                </span>

                <div class="row gap-1 px-1 pt-3 hadi lg">
                    <input type="button" id="" value="7" class="number col btn btn-secondary input btn-lg btn-block "
                        onclick="displaynumber(7)" />


                    <input type="button" id="" value="8" class="number col btn btn-secondary btn-lg btn-block"
                        onclick="displaynumber(8)" />


                    <input type="button" id="" value="9" class="number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(9)" />


                    <input type="button" id="" value="+" class="number col btn btn-secondary btn-lg btn-block text-danger"
                        onclick="displayOperator('+')" />
                </div>

                <div class="row gap-1 px-1 py-1 hadi lg ">
                    <input type="button" id="" value="4" class=" number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(4)" />

                    <input type="button" id="" value="5" class=" number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(5)" />


                    <input type="button" id="" value="6" class=" number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(6)" />


                    <input type="button" id="" value="-"
                        class="col btn btn-secondary btn-lg btn-block text-danger text-danger number"
                        onclick="displayOperator('-')" />
                </div>

                <div class="row gap-1 px-1 py-1 hadi lg">
                    <input type="button" id="" value="1" class="number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(1)" />


                    <input type="button" id="" value="2" class="number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(2)" />


                    <input type="button" id="" value="3" class="number col btn btn-secondary input btn-lg btn-block"
                        onclick="displaynumber(3)" />


                    <input type="button" id="" value="X" class="number col btn btn-secondary btn-lg btn-block text-danger"
                        onclick="displayOperator('X')" />
                </div>
                <div class="row gap-1 px-1 py-1 hadi lg">
                    <input type="button" id="" value="." class="number col btn btn-secondary btn-lg btn-block text-danger"
                        onclick="displayPoint('')" />


                    <input type="button" id="" value="0" class="number col btn btn-secondary btn-lg btn-block"
                        onclick="displaynumber(0)" />


                    <input type="button" id="" value="C" class="number col btn btn-danger btn-lg btn-block "
                        onclick="reset()" />


                    <input type="button" id="" value="/" class="number col btn btn-secondary btn-lg btn-block text-danger"
                        onclick="displayOperator('/')" />
                </div>
                <div class="row px-1 hadi2 lg">
                    <input type="button" id="" value="=" class="number col-12 btn btn-secondary btn-lg btn-block"
                        onclick="calculate()" />
                </div>
            </div>

        </div>
    </main>

    <script>
        // cible ca case dans laquelle on va ecrire les 1er nombres

        let display = document.getElementById("firstNumber")

        // determine la variable qui va nous permettre de savoir si on a cliquer sur le point

        let point = false



        function displaynumber(number) {
            display.value += number
        }

        function displayOperator(operator) {
            document.getElementById("operation").value = operator

            //on controle la zone firstnumber pour voir si elle n'est pas vide a l'aide de .lenght

            if (display.value.length >= 1) {

                //On passe sur la zone secondNumber

                display = document.getElementById("secondNumber")

            }
            //lorque nous cliquons sur l'operator on reactive le point a l'aide de la variable point
            point = false

        }

        function reset() {
            document.getElementById("firstNumber").value = ""
            document.getElementById("operation").value = ""
            document.getElementById("secondNumber").value = ""
            document.getElementById("resultat").value = ""

            //on recharge la zone par dafaut sur firstNumber

            display = document.getElementById("firstNumber")
            point = false
        }

        function displayPoint() {

            //si point different de faux on ajoute un point

            if (!point) {
                display.value += "."
            }

            //On passe point en vrai pour le desactiver 
            point = true
        }

        // fonction pour calculer

        // function calculate() {
        //     let firstNumber = Number(document.getElementById("firstNumber").value)
        //     let secondNumber = Number(document.getElementById("secondNumber").value)
        //     let operation = (document.getElementById("operation").value)

        //     if (operation === "+") {
        //         document.getElementById("resultat").value = firstNumber + secondNumber
        //     }
        //     if (operation === "-") {
        //         document.getElementById("resultat").value = firstNumber - secondNumber
        //     }

        //     if (operation === "X") {
        //         document.getElementById("resultat").value = firstNumber * secondNumber
        //     }

        //     if (operation === "/") {
        //         document.getElementById("resultat").value = firstNumber / secondNumber
        //     }
        // }



        function calculate() { 
            // on recupere la valeur des elements grace a '.value'
            //utilisation de number pour convertir la valeur en nombre
            let firstNumber = Number(document.getElementById("firstNumber").value)
            let secondNumber = Number(document.getElementById("secondNumber").value)
            let operation = document.getElementById("operation").value
            let resultat

            switch (operation) {

                case '+' :
                    resultat = firstNumber + secondNumber
                    break

                    case '-' :
                    resultat = firstNumber - secondNumber
                    break

                    case 'X' :
                    resultat = firstNumber * secondNumber
                    break

                    case '/' :
                        
                    resultat = firstNumber / secondNumber
                    break
            }

            //on affiche le resultat de l'operation dans la case resultat
            document.getElementById("resultat").value=resultat
        }
    </script>

</body>

</html>